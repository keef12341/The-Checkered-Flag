
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#000000">
  <title>The Checkered Flag - Coming Soon</title>
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("d4-jr-CEleic4ikyC");
    })();
  </script>
  <style>
    /* Original CSS remains unchanged - omitted for brevity */
  </style>
</head>
<body>
  <div class="password-page__wrapper">
    <div class="password-page__content">
      <div class="password-page__logo">
        <div class="site-header__logo">
          <img src="images/checkeredflag.png" alt="The Checkered Flag Logo">
        </div>
      </div>
      <div class="password-page__main">
        <h2 class="password-page__heading">Coming Soon to Pigeon Forge!</h2>
        <div class="password-page__message rte">
          <p>We're putting the finishing touches on our tracks and will be racing soon!</p>
        </div>
        <div class="password-page__signup-form">
          <h3 class="password-page__signup-heading">Be the first to know when we open!</h3>
          <div id="contactForm">
            <div class="form-success" id="formSuccess">
              Thanks for subscribing! We'll keep you updated.
            </div>
            <form id="emailForm" class="input-group password-page__input-group">
              <input type="email" id="Email" name="user_email" class="input-group__field password-page__input" placeholder="Enter your email" required>
              <button type="submit" class="password-page__submit-btn" id="submitBtn">
                <span>Notify Me</span>
              </button>
            </form>
          </div>
        </div>
        <div class="password-page__location">
          <p>Located in <a href="https://www.google.com/maps/place/Pigeon+Forge,+TN" target="_blank" class="location-link">Pigeon Forge, TN</a></p>
        </div>
      </div>
      <a href="#" class="owner-tab" id="ownerTab">owner</a>
    </div>
  </div>

  <!-- Other content and modals remain unchanged - omitted for brevity -->

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('currentYear').textContent = new Date().getFullYear();
      
      // EmailJS Integration
      const form = document.getElementById('emailForm');
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        emailjs.sendForm('default_service', 'd4-jr-CEleic4ikyC', this)
          .then(() => {
            document.getElementById('formSuccess').style.display = 'block';
            form.reset();
          }, (error) => {
            alert('Oops... something went wrong. Please try again later.');
            console.error('EmailJS error:', error);
          });
      });

      // Password handling (same as user provided)
      const ownerTab = document.getElementById('ownerTab');
      const passwordModal = document.getElementById('passwordModal');
      const closeModal = document.getElementById('closeModal');
      const passwordInput = document.getElementById('passwordInput');
      const passwordSubmit = document.getElementById('passwordSubmit');
      const passwordError = document.getElementById('passwordError');

      ownerTab.addEventListener('click', function(e) {
        e.preventDefault();
        passwordModal.style.display = 'flex';
        passwordInput.focus();
        passwordError.style.display = 'none';
      });

      closeModal.addEventListener('click', function() {
        passwordModal.style.display = 'none';
        passwordInput.value = '';
        passwordError.style.display = 'none';
      });

      window.addEventListener('click', function(e) {
        if (e.target === passwordModal) {
          passwordModal.style.display = 'none';
          passwordInput.value = '';
          passwordError.style.display = 'none';
        }
      });

      passwordSubmit.addEventListener('click', checkPassword);
      passwordInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') checkPassword();
      });

      function checkPassword() {
        const correctPassword = 'Jj202323';
        if (passwordInput.value === correctPassword) {
          window.location.href = 'admin.html';
        } else {
          passwordError.style.display = 'block';
          passwordInput.value = '';
          passwordInput.focus();
        }
      }
    });
  </script>
</body>
</html>
